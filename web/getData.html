<html>
    <head>
        <title>Node JS와 Express에 대하여 알아보자</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    </head>
    <body>
    
<span>현재온도</span> <span id = "hum_span"></span> <br/>
<span>현재습도</span> <span id = "temp_span"></span> <br/>
<span>현재산소농도</span> <span id = "oxy_span"></span> <br/>
    
    <script>

        $(document).ready(function(){
            
            const testFunc = function(a, b){
                console.log(a, b);
                $.ajax({
                    url : "/getData",
                    data : { name : "홍길동"},
                    method : "GET",
                    dataType : "json"
                }).done(function(json){
                    $("#hum_span").html(json.hum);
                    $("#temp_span").html(json.temp);
                    $("#oxy_span").html(json.oxy);
                })
            }

            const intervalId = setInterval(
                testFunc,
                3000,
                "안녕하세요.",
                "프로그래머입니다." + new Date()
            );

            testFunc();

        });
    </script>

    
    </body>
</html>